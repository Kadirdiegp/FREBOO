(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{4830:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return s(3465)}])},1713:function(e,t,s){"use strict";s.d(t,{Z:function(){return g}});var i=s(5893),n=s(7294),r=s(1664),a=s.n(r),l=s(1163),c=s(5675),o=s.n(c),d=e=>{let{width:t=120,height:s=40,className:n=""}=e;return(0,i.jsx)(o(),{src:"/images/FRE BO.png",alt:"FRE BO Media Logo",width:t,height:s,className:"".concat(n," transition-opacity hover:opacity-80"),priority:!0})},h=s(1218),m=s(3114),x=()=>{let[e,t]=(0,n.useState)(!1),[s,r]=(0,n.useState)(!1),c=(0,l.useRouter)();(0,n.useEffect)(()=>{let e=()=>{r(window.scrollY>20)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);let o=[{href:"/portfolio",label:"Portfolio"},{href:"/motocross",label:"Motocross"},{href:"/portrait",label:"Portrait"},{href:"/produktfotografie",label:"Produktfotografie"},{href:"/kontakt",label:"Kontakt"}],x={closed:{y:20,opacity:0},open:e=>({y:0,opacity:1,transition:{delay:.1*e,duration:.3,ease:"easeOut"}})};return(0,i.jsxs)("nav",{className:"fixed w-full z-50 transition-all duration-300 ".concat(s?"bg-black/80 backdrop-blur-md":"bg-transparent"),children:[(0,i.jsx)("div",{className:"container mx-auto px-4",children:(0,i.jsxs)("div",{className:"flex justify-between items-center h-20",children:[(0,i.jsx)(h.E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative z-50",children:(0,i.jsx)(a(),{href:"/",className:"block",children:(0,i.jsx)(d,{width:120,height:40,className:"text-white"})})}),(0,i.jsx)("div",{className:"hidden md:flex space-x-8",children:o.map(e=>(0,i.jsx)(h.E.div,{whileHover:{scale:1.05},className:"relative",children:(0,i.jsx)(a(),{href:e.href,className:"text-lg cursor-pointer ".concat(c.pathname===e.href?"text-[#89cff0]":"text-white"," hover:text-[#89cff0] transition-colors duration-200"),children:e.label})},e.href))}),(0,i.jsx)(h.E.button,{className:"md:hidden relative z-50 w-10 h-10 flex items-center justify-center",onClick:()=>t(!e),whileTap:{scale:.9},children:(0,i.jsxs)("div",{className:"w-6 flex flex-col items-end space-y-1.5",children:[(0,i.jsx)(h.E.span,{className:"w-full h-0.5 bg-white block",animate:{rotateZ:e?45:0,y:e?6:0,width:"100%"}}),(0,i.jsx)(h.E.span,{className:"h-0.5 bg-white block",animate:{width:e?"100%":"75%",opacity:e?0:1}}),(0,i.jsx)(h.E.span,{className:"h-0.5 bg-white block",animate:{rotateZ:e?-45:0,y:e?-6:0,width:e?"100%":"50%"}})]})})]})}),(0,i.jsx)(m.M,{children:e&&(0,i.jsx)(h.E.div,{className:"fixed inset-0 bg-black md:hidden",initial:"closed",animate:"open",exit:"closed",variants:{closed:{opacity:0,height:0,transition:{duration:.3,ease:"easeInOut"}},open:{opacity:1,height:"100vh",transition:{duration:.3,ease:"easeInOut"}}},children:(0,i.jsx)("div",{className:"flex flex-col items-center justify-center h-full space-y-8",children:o.map((e,s)=>(0,i.jsx)(h.E.div,{custom:s,variants:x,whileHover:{scale:1.1},whileTap:{scale:.95},children:(0,i.jsx)(a(),{href:e.href,className:"text-2xl ".concat(c.pathname===e.href?"text-[#89cff0]":"text-white"," hover:text-[#89cff0] transition-colors"),onClick:()=>t(!1),children:e.label})},e.href))})})})]})};function u(){return(0,i.jsx)("footer",{className:"bg-zinc-900 text-white p-6",children:(0,i.jsxs)("div",{className:"container mx-auto",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,i.jsxs)("div",{className:"flex flex-col items-start",children:[(0,i.jsx)(d,{width:150,height:50,className:"mb-4"}),(0,i.jsx)("p",{children:"Professionelle Fotografie f\xfcr Ihre besonderen Momente"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Kontakt"}),(0,i.jsx)("p",{children:"Email: info@frebo-media.com"}),(0,i.jsx)("p",{children:"Tel: +49 123 456789"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Folgen Sie uns"}),(0,i.jsx)("div",{className:"space-x-4",children:(0,i.jsx)("a",{href:"https://www.instagram.com/frebo_media/",className:"hover:text-zinc-300",children:"Instagram"})})]})]}),(0,i.jsx)("div",{className:"mt-8 text-center",children:(0,i.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," FREBO MEDIA. Alle Rechte vorbehalten."]})})]})})}var f=e=>{let{children:t}=e,s=(0,l.useRouter)();return(0,i.jsx)(h.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3,ease:"easeInOut"},children:t},s.pathname)};function g(e){let{children:t}=e;return(0,i.jsxs)("div",{className:"min-h-screen flex flex-col bg-black text-white",children:[(0,i.jsx)(x,{}),(0,i.jsx)("main",{className:"flex-grow pt-20",children:(0,i.jsx)(f,{children:t})}),(0,i.jsx)(u,{})]})}},1239:function(e,t,s){"use strict";s.d(t,{OQ:function(){return a}});var i=s(6490);let n="https://ylpcnyapqqjxcapzgxta.supabase.co",r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlscGNueWFwcXFqeGNhcHpneHRhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzQ0MzUwMjAsImV4cCI6MjA1MDAxMTAyMH0.5BcoBhAgo-2x4MxCwXn9Ow-ZJenBZnjSjf7bYZoMtJA";if(!n||!r)throw Error("Missing Supabase environment variables");let a=(0,i.eI)(n,r)},3465:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var i=s(5893),n=s(7294),r=s(1713),a=s(1239),l=e=>{let{onAuth:t}=e,[s,r]=(0,n.useState)(""),[l,c]=(0,n.useState)(""),[o,d]=(0,n.useState)(!1),[h,m]=(0,n.useState)(null),x=async e=>{e.preventDefault(),d(!0),m(null);try{let{error:e}=await a.OQ.auth.signInWithPassword({email:s,password:l});if(e)throw e;t()}catch(e){m("Ung\xfcltige Anmeldedaten")}finally{d(!1)}};return(0,i.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,i.jsxs)("div",{className:"max-w-md w-full bg-white p-8 rounded-lg shadow-lg",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Admin Login"}),h&&(0,i.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:h}),(0,i.jsxs)("form",{onSubmit:x,children:[(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Email"}),(0,i.jsx)("input",{type:"email",value:s,onChange:e=>r(e.target.value),className:"w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-black",required:!0})]}),(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Passwort"}),(0,i.jsx)("input",{type:"password",value:l,onChange:e=>c(e.target.value),className:"w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-black",required:!0})]}),(0,i.jsx)("button",{type:"submit",className:"w-full bg-black text-white p-2 rounded hover:bg-gray-800 transition-colors",disabled:o,children:o?"Anmelden...":"Anmelden"})]})]})})},c=s(5675),o=s.n(c);let d=e=>new Date(e).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"});var h=()=>{let[e,t]=(0,n.useState)(!1),[s,c]=(0,n.useState)([]),[h,m]=(0,n.useState)([]),[x,u]=(0,n.useState)(!0),[f,g]=(0,n.useState)("events"),[p,b]=(0,n.useState)("all"),[v,j]=(0,n.useState)(!1),[w,N]=(0,n.useState)(null),[y,z]=(0,n.useState)({name:"",date:"",location:"",description:""});(0,n.useEffect)(()=>{k()},[]),(0,n.useEffect)(()=>{"photos"===f&&S()},[p,v]);let k=async()=>{let{data:{session:e}}=await a.OQ.auth.getSession();t(!!e),e?E():u(!1)},E=async()=>{try{let[e,t]=await Promise.all([a.OQ.from("events").select("*").order("date",{ascending:!1}),a.OQ.from("photos").select("*").order("created_at",{ascending:!1})]);if(e.error)throw e.error;if(t.error)throw t.error;c(e.data),m(t.data)}catch(e){console.error("Error loading data:",e)}finally{u(!1)}},S=async()=>{try{u(!0);let e=a.OQ.from("photos").select("*").order("created_at",{ascending:!1});"all"!==p&&(e=e.eq("category",p)),v&&(e=e.limit(6));let{data:t,error:s}=await e;if(s)throw s;m(t||[])}catch(e){console.error("Error loading photos:",e)}finally{u(!1)}},O=async e=>{e.preventDefault();try{let{error:e}=await a.OQ.from("events").insert([y]);if(e)throw e;z({name:"",date:"",location:"",description:""}),E()}catch(e){console.error("Error creating event:",e)}},C=async e=>{if(window.confirm("Sind Sie sicher, dass Sie dieses Event l\xf6schen m\xf6chten?"))try{let{error:t}=await a.OQ.from("events").delete().eq("id",e);if(t)throw t;E()}catch(e){console.error("Error deleting event:",e)}},_=async e=>{let t=e.target.files;if(t&&0!==t.length)try{for(let e of(u(!0),t)){var s;let t=(null===(s=e.name.split(".").pop())||void 0===s?void 0:s.toLowerCase())||"",i="".concat(Date.now(),"-").concat(Math.random().toString(36).substring(7),".").concat(t),n="".concat(p,"/").concat(i),{error:r}=await a.OQ.storage.from("media").upload(n,e);if(r)throw r;let{error:l}=await a.OQ.from("photos").insert([{url:n,category:p,start_number:""}]);if(l)throw l}S()}catch(e){console.error("Error uploading photo:",e)}finally{u(!1)}},I=async e=>{try{let{error:t}=await a.OQ.from("photos").update({start_number:e.start_number,event_id:e.event_id}).eq("id",e.id);if(t)throw t;N(null),S()}catch(e){console.error("Error updating photo:",e)}},M=async e=>{if(window.confirm("Sind Sie sicher, dass Sie dieses Foto l\xf6schen m\xf6chten?"))try{let{error:t}=await a.OQ.storage.from("media").remove([e.url]);if(t)throw t;let{error:s}=await a.OQ.from("photos").delete().eq("id",e.id);if(s)throw s;S()}catch(e){console.error("Error deleting photo:",e)}},A=e=>e?e.startsWith("http")?e:"".concat("https://ylpcnyapqqjxcapzgxta.supabase.co","/storage/v1/object/public/media/").concat(e):"";return e?(0,i.jsx)(r.Z,{children:(0,i.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center mb-8 bg-zinc-900 p-6 rounded-lg shadow-lg",children:[(0,i.jsx)("h1",{className:"text-4xl font-bold text-white",children:"Admin Dashboard"}),(0,i.jsx)("button",{onClick:async()=>{await a.OQ.auth.signOut(),t(!1)},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Abmelden"})]}),(0,i.jsxs)("div",{className:"flex mb-8 bg-zinc-900 rounded-lg shadow-lg p-1",children:[(0,i.jsx)("button",{className:"flex-1 px-6 py-3 rounded-lg transition-colors ".concat("events"===f?"bg-zinc-800 text-white":"text-white hover:bg-zinc-800"),onClick:()=>g("events"),children:"Events"}),(0,i.jsx)("button",{className:"flex-1 px-6 py-3 rounded-lg transition-colors ".concat("photos"===f?"bg-zinc-800 text-white":"text-white hover:bg-zinc-800"),onClick:()=>g("photos"),children:"Fotos"})]}),x?(0,i.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,i.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})}):(0,i.jsx)(i.Fragment,{children:"events"===f?(0,i.jsxs)("div",{className:"space-y-8",children:[(0,i.jsxs)("div",{className:"bg-zinc-900 p-6 rounded-lg shadow-lg",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold mb-6 text-white",children:"Neues Event erstellen"}),(0,i.jsxs)("form",{onSubmit:O,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Name"}),(0,i.jsx)("input",{type:"text",value:y.name,onChange:e=>z({...y,name:e.target.value}),className:"w-full p-3 bg-zinc-800 border border-zinc-700 text-white rounded-lg focus:ring-2 focus:ring-zinc-600 focus:border-transparent",required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Datum"}),(0,i.jsx)("input",{type:"date",value:y.date,onChange:e=>z({...y,date:e.target.value}),className:"w-full p-3 bg-zinc-800 border border-zinc-700 text-white rounded-lg focus:ring-2 focus:ring-zinc-600 focus:border-transparent",required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Ort"}),(0,i.jsx)("input",{type:"text",value:y.location,onChange:e=>z({...y,location:e.target.value}),className:"w-full p-3 bg-zinc-800 border border-zinc-700 text-white rounded-lg focus:ring-2 focus:ring-zinc-600 focus:border-transparent",required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Beschreibung"}),(0,i.jsx)("textarea",{value:y.description,onChange:e=>z({...y,description:e.target.value}),className:"w-full p-3 bg-zinc-800 border border-zinc-700 text-white rounded-lg focus:ring-2 focus:ring-zinc-600 focus:border-transparent",rows:3})]}),(0,i.jsx)("div",{className:"md:col-span-2",children:(0,i.jsx)("button",{type:"submit",className:"w-full md:w-auto px-6 py-3 bg-zinc-800 text-white rounded-lg hover:bg-zinc-700 transition-colors",children:"Event erstellen"})})]})]}),(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(e=>(0,i.jsx)("div",{className:"bg-zinc-900 rounded-lg shadow-lg overflow-hidden",children:(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsx)("h3",{className:"text-xl font-bold mb-2 text-white",children:e.name}),(0,i.jsx)("p",{className:"text-zinc-300",children:d(e.date)}),(0,i.jsx)("p",{className:"text-zinc-300",children:e.location}),e.description&&(0,i.jsx)("p",{className:"text-zinc-300 mt-2",children:e.description}),(0,i.jsx)("div",{className:"mt-4 flex justify-end space-x-4",children:(0,i.jsx)("button",{onClick:()=>C(e.id),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"L\xf6schen"})})]})},e.id))})]}):(0,i.jsxs)("div",{className:"space-y-8",children:[(0,i.jsx)("div",{className:"bg-zinc-900 p-6 rounded-lg shadow-lg",children:(0,i.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Kategorie"}),(0,i.jsxs)("select",{value:p,onChange:e=>b(e.target.value),className:"w-full p-3 bg-zinc-800 border border-zinc-700 text-white rounded-lg focus:ring-2 focus:ring-zinc-600 focus:border-transparent",children:[(0,i.jsx)("option",{value:"all",children:"Alle Kategorien"}),(0,i.jsx)("option",{value:"motocross",children:"Motocross"}),(0,i.jsx)("option",{value:"portrait",children:"Portrait"}),(0,i.jsx)("option",{value:"product",children:"Produkt"})]})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("input",{type:"checkbox",id:"portfolioOnly",checked:v,onChange:e=>j(e.target.checked),className:"w-4 h-4 bg-zinc-800 border-zinc-700 text-white rounded focus:ring-zinc-600"}),(0,i.jsx)("label",{htmlFor:"portfolioOnly",className:"text-sm font-medium text-zinc-300",children:"Nur Portfolio-Bilder anzeigen (6 neueste)"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Fotos hochladen"}),(0,i.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:_,className:"w-full p-2 text-sm text-zinc-300 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-zinc-800 file:text-white hover:file:bg-zinc-700 cursor-pointer"})]})]})}),(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6",children:h.map((e,t)=>{var n;return(0,i.jsxs)("div",{className:"bg-zinc-900 rounded-lg shadow-lg hover:shadow-xl transition-shadow overflow-hidden",children:[(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("div",{className:"relative aspect-square",children:(0,i.jsx)(o(),{src:A(e.url),alt:"",fill:!0,className:"object-cover",unoptimized:!0,priority:!1})}),v&&(0,i.jsx)("div",{className:"absolute top-2 right-2",children:(0,i.jsxs)("span",{className:"bg-zinc-800 text-white px-2 py-1 rounded-lg text-sm",children:["Portfolio #",t+1]})}),!v&&t<6&&"all"!==p&&(0,i.jsx)("div",{className:"absolute top-2 right-2",children:(0,i.jsx)("span",{className:"bg-zinc-800 text-white px-2 py-1 rounded-lg text-sm",children:"Im Portfolio"})})]}),(0,i.jsx)("div",{className:"p-4",children:(null==w?void 0:w.id)===e.id?(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)("input",{type:"text",placeholder:"Startnummer",value:w.start_number||"",onChange:e=>N({...w,start_number:e.target.value}),className:"w-full p-2 bg-zinc-800 border border-zinc-700 text-white rounded-lg focus:ring-2 focus:ring-zinc-600 focus:border-transparent"}),(0,i.jsxs)("select",{value:w.event_id||"",onChange:e=>N({...w,event_id:e.target.value}),className:"w-full p-2 bg-zinc-800 border border-zinc-700 text-white rounded-lg focus:ring-2 focus:ring-zinc-600 focus:border-transparent",children:[(0,i.jsx)("option",{value:"",children:"Kein Event"}),s.map(e=>(0,i.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,i.jsxs)("div",{className:"flex justify-between pt-2",children:[(0,i.jsx)("button",{onClick:()=>I(w),className:"px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Speichern"}),(0,i.jsx)("button",{onClick:()=>N(null),className:"px-3 py-1 bg-zinc-800 text-white rounded-lg hover:bg-zinc-700 transition-colors",children:"Abbrechen"})]})]}):(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"space-y-1 mb-3",children:[(0,i.jsxs)("p",{className:"text-sm font-medium text-zinc-300",children:["Kategorie: ",e.category]}),e.start_number&&(0,i.jsxs)("p",{className:"text-sm font-medium text-zinc-300",children:["Startnummer: ",e.start_number]}),e.event_id&&(0,i.jsxs)("p",{className:"text-sm font-medium text-zinc-300",children:["Event: ",null===(n=s.find(t=>t.id===e.event_id))||void 0===n?void 0:n.name]}),(0,i.jsxs)("p",{className:"text-sm font-medium text-zinc-300",children:["Hochgeladen: ",new Date(e.created_at).toLocaleDateString("de-DE")]})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("button",{onClick:()=>N(e),className:"px-3 py-1 bg-zinc-800 text-white rounded-lg hover:bg-zinc-700 transition-colors",children:"Bearbeiten"}),(0,i.jsx)("button",{onClick:()=>M(e),className:"px-3 py-1 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"L\xf6schen"})]})]})})]},e.id)})})]})})]})}):(0,i.jsx)(l,{onAuth:()=>t(!0)})}}},function(e){e.O(0,[321,490,888,774,179],function(){return e(e.s=4830)}),_N_E=e.O()}]);